<!doctype html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>RPG Ambience Soundboard</title>
        <link rel="stylesheet" href="css/soundboard.css">
        <link rel="icon" type="image/png" href="/images/icon.png">
        <script src="/libraries/ramda.0.19.1.min.js"></script>
        <script src="/bundle.js"></script>
        <!-- <script src="/bundle.prototype.js"></script> -->
    </head>
    <body>
        <div class="page page-soundboard vertical padding spacing" id="soundboard">
            <div id="top-menu" class="horizontal">
                <div class="flex">
                    <button type="button" id="menu-button" title="Menu">Menu</button>
                    <select class="adventure" id="adventure">
                        <option data-repeat="10">Some Adventure</option>
                    </select>
                    <button type="button" id="fullscreen" title="Fullscreen">Fullscreen</button>
                    <button type="button" id="online-play-button" title="Play Online">Play Online</button>
                    <button type="button" id="player-count">Players connected: <span id="player-count-number"></span></button>
                </div>
                <div>
                    <button type="button" id="zoom-out" title="Zoom out"></button>
                    <button type="button" id="zoom-in" title="Zoom in"></button>
                    <button type="button" id="mute" title="Mute"></button>
                    <button type="button" id="unmute" title="Unmute"></button>
                    <input type="range" min="0" step="0.01" max="1" value="1" id="volume-slider" title="Volume">
                </div>
            </div>
            <div class="scene-view flex">
                <div class="ungrouped">
                    <ul class="scene-list">
                        <li class="scene" data-repeat="10">
                            <button type="button" class="scene-button" data-sound>
                                <div class="scene-preview">
                                    <img src="" alt="" class="scene-preview-image">
                                </div>
                                <div class="scene-label">
                                    <span class="scene-name">Wizard's Library in the Evil Forest</span>
                                    <span class="scene-hotkey"></span>
                                </div>
                                <progress value="0">0%</progress>
                            </button>
                        </li>
                    </ul>
                </div>
                <div class="grouped" hidden>
                    <h2 class="group-title">Background</h2>
                    <ul class="scene-list">
                        <li class="scene error" data-repeat="10">
                            <button type="button" class="scene-button" data-sound>
                                <progress value="0">0%</progress>
                                <div class="scene-preview">
                                    <img src="" alt="" class="scene-preview-image">
                                </div>
                                <div class="scene-label">
                                    <span class="scene-name">Wizard's Library in the Evil Forest</span>
                                    <span class="scene-hotkey"></span>
                                </div>
                            </button>
                        </li>
                    </ul>
                    <h2 class="group-title">Foreground</h2>
                    <ul class="scene-list">
                        <li class="scene" data-repeat="15">
                            <button type="button" class="scene-button" data-sound>
                                <progress value="0">0%</progress>
                                <div class="scene-preview">
                                    <img src="" alt="" class="scene-preview-image">
                                </div>
                                <div class="scene-label">
                                    <span class="scene-name">Wizard's Library in the Evil Forest</span>
                                    <span class="scene-hotkey"></span>
                                </div>
                            </button>
                        </li>
                    </ul>
                </div>
            </div>
            <div>
                <button type="button" id="stop-button" title="Stop all scenes">Stop All</button>
            </div>
            <!-- <div class="content">
                <div id="options">
                    <button type="button" class="menu-button" data-menu>Menu</button>
                    <div class="menu">
                        <ul>
                            <li class="adventure">
                                <select>
                                    <option data-repeat="10">Some Adventure</option>
                                </select>
                            </li>
                            <li>
                                <label>
                                    <input type="checkbox">
                                    <span>Group by layer</span>
                                </label>
                            </li>
                            <li>
                                <label>
                                    <input type="checkbox">
                                    <span>Show images</span>
                                </label>
                            </li>
                            <li>
                                <label>
                                    <input type="checkbox">
                                    <span>Show names</span>
                                </label>
                            </li>
                            <li class="zoom">
                                <button type="button" class="zoom-out"></button>
                                <input type="range" min="1" max="16" step="1" value="6" class="zoom-slider" data-zoom>
                                <button type="button" class="zoom-in"></button>
                            </li>
                            <li class="fullscreen">
                                <button type="button">Enter Fullscreen</button>
                            </li>
                        </ul>
                    </div>
                    <div class="other-menu">
                        <select class="adventure" id="adventure">
                            <option data-repeat="10">Some Adventure</option>
                        </select>
                        <div class="zoom">
                            <button type="button" class="zoom-out"></button>
                            <input type="range" min="1" max="16" step="1" value="6" class="zoom-slider" data-zoom>
                            <button type="button" class="zoom-in"></button>
                        </div>
                    </div>
                    <div class="error">
                        <p class="message">Some scenes could not be loaded.</p>
                        <button type="button" class="retry"><span>Try again</span></button>
                        <button type="button" class="close">Close</button>
                    </div>
                </div>
                <div class="scene-view">
                    <div class="ungrouped">
                        <ul class="scene-list">
                            <li class="scene" data-repeat="10">
                                <button type="button" class="scene-button" data-sound>
                                    <div class="scene-preview">
                                        <img src="" alt="" class="scene-preview-image">
                                    </div>
                                    <div class="scene-label">
                                        <span class="scene-name">Wizard's Library in the Evil Forest</span>
                                        <span class="scene-hotkey"></span>
                                    </div>
                                    <progress value="0">0%</progress>
                                </button>
                            </li>
                        </ul>
                    </div>
                    <div class="grouped" hidden>
                        <h2 class="group-title">Background</h2>
                        <ul class="scene-list">
                            <li class="scene error" data-repeat="10">
                                <button type="button" class="scene-button" data-sound>
                                    <progress value="0">0%</progress>
                                    <div class="scene-preview">
                                        <img src="" alt="" class="scene-preview-image">
                                    </div>
                                    <div class="scene-label">
                                        <span class="scene-name">Wizard's Library in the Evil Forest</span>
                                        <span class="scene-hotkey"></span>
                                    </div>
                                </button>
                            </li>
                        </ul>
                        <h2 class="group-title">Foreground</h2>
                        <ul class="scene-list">
                            <li class="scene" data-repeat="15">
                                <button type="button" class="scene-button" data-sound>
                                    <progress value="0">0%</progress>
                                    <div class="scene-preview">
                                        <img src="" alt="" class="scene-preview-image">
                                    </div>
                                    <div class="scene-label">
                                        <span class="scene-name">Wizard's Library in the Evil Forest</span>
                                        <span class="scene-hotkey"></span>
                                    </div>
                                </button>
                            </li>
                        </ul>
                    </div>
                </div>
            </div> -->
        </div>
        <div class="page page-no-adventures" id="no-adventures">
            <div class="center content">
                <h2>It appears you have no RPG Ambience adventures</h2>
                <p>RPG Ambience Soundboard cannot currently be used to create adventures, only to play them. Please create an adventure using <a href="http://rpg-ambience.com/" target="_blank">RPG Ambience</a>, then reload this page.</p>
            </div>
        </div>
        <div class="page page-google-drive" id="google-drive">
            <div class="center">
                <p>To get started, please sign in to Google Drive</p>
                <form>
                    <button type="submit">
                        <img src="/images/google-drive.png" alt="">
                        <span>Sign in to Google Drive</span>
                    </button>
                </form>
            </div>
        </div>
        <div class="page page-session-error" id="session-error">
            <div class="center">
                <h2>There was an error logging in</h2>
                <p id="session-error-detail">Error message</p>
                <form>
                    <button type="submit">
                        <span>Try again</span>
                    </button>
                </form>
            </div>
        </div>
        <div class="page page-loading-library" id="loading-library">
            <div class="center content">
                <p>Loading adventure library…</p>
                <progress value="0"></progress>
                <ul class="events" data-gradual>
                    <li data-repeat="10">Some very long message with some random string like 24ut6uy38ygirnm380942t6ju293jtf</li>
                </ul>
            </div>
        </div>
        <div class="page page-loading-error" id="loading-error">
            <div class="center">
                <h2>Error</h2>
                <p class="code" id="loading-error-text"></p>
                <p class="note">This probably means that your browser is currently not supported by RPG Ambience Soundboard.</p>
                <p class="note" id="loading-error-browser-id"></p>
            </div>
        </div>
        <div class="page page-loading-app" id="loading-app">
            <div class="center content">
                <p>Loading RPG Ambience Soundboard…</p>
            </div>
        </div>
        <div id="dialog" hidden>
            <div class="dialog" id="welcome">
                <button type="button" class="close">×</button>
                <div class="center content">
                    <h2>Welcome to the RPG Ambience Soundboard alpha!</h2>
                    <p>This app works like <a href="http://rpg-ambience.com/" target="_blank">RPG Ambience</a>, with a few exceptions:</p>
                    <ul>
                        <li>You can only play audio, not display images or text.</li>
                        <li>You cannot create or edit adventures. (You must use <a href="http://rpg-ambience.com/" target="_blank">RPG Ambience</a> for that.)</li>
                        <li>It works on mobile devices.</li>
                    </ul>
                    <p>RPG Ambience Soundboard is currently in alpha. Read the full details <a href="http://blog.rpg-ambience.com/articles/soundboard-alpha" target="_blank">on the RPG Ambience blog</a>.</p>
                    <form>
                        <button type="submit">Start!</a>
                    </form>
                </div>
            </div>
            <div class="dialog" id="menu">
                <button type="button" class="close">×</button>
                <div class="center content">
                    <h2>Menu</h2>
                    <div class="inline-center">
                        <table>
                            <tbody>
                                <tr>
                                    <th>
                                        <label for="adventure-sort-order">Sort adventures by</label>
                                    </th>
                                    <td>
                                        <select id="adventure-sort-order">
                                            <option value="title">Name</option>
                                            <option value="created">Creation date</option>
                                            <option value="modified">Last modified</option>
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <th>
                                        <label for="scene-layer-grouping">Group scenes by layer</label>
                                    </th>
                                    <td>
                                        <input type="checkbox" id="scene-layer-grouping">
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="dialog" id="online-play">
                <button type="button" class="close">×</button>
                <div class="center content" data-cycle="no-session joining-session connecting-to-session session-active">
                    <div class="no-session">
                        <h2>Play Online</h2>
                        <div class="horizontal center spacing">
                            <form id="start-session-form">
                                <button type="submit">Start session</button>
                            </form>
                            <form id="join-session-form">
                                <button type="submit">Join session</button>
                            </form>
                        </div>
                        <div id="online-play-error" hidden>
                            <p>There was an error connecting to the session:</p>
                            <p id="online-play-error-message">Error message</p>
                        </div>
                    </div>
                    <div class="joining-session">
                        <p>Please enter the URL received from the host:</p>
                        <form class="horizontal spacing" id="join-session-id-form">
                            <input type="text" placeholder="http://" id="join-session-id" class="flex">
                            <button type="submit">Go!</button>
                        </form>
                    </div>
                    <div class="connecting-to-session">
                        <p>Connecting to session…</p>
                    </div>
                    <div class="session-active">
                        <div class="link">
                            <p class="label">To invite other players, send them this link:</p>
                            <p class="url">
                                <a href="" target="_blank" id="join-session-link">http://sound.rpg-ambience.com/?session=abcdefghijklmnopqrstuvwxyz1234567890</a>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="stage" hidden>
            <div id="background" class="layer"></div>
            <div id="foreground" class="layer"></div>
        </div>
        <script type="text/javascript">
            var _paq = _paq || [];
            _paq.push(["setDomains", ["*.sound.rpg-ambience.com"]]);
            _paq.push(['trackPageView']);
            (function() {
                var u="//statistics.tabletopsoftware.net/piwik/";
                _paq.push(['setTrackerUrl', u+'piwik.php']);
                _paq.push(['setSiteId', 5]);
                var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
                g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
            })();
        </script>
        <noscript><p><img src="//statistics.tabletopsoftware.net/piwik/piwik.php?idsite=5" style="border:0;" alt=""></p></noscript>
    </body>
</html>
